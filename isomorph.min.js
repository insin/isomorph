/**
 * isomorph 0.2.0 - https://github.com/insin/isomorph
 * MIT Licensed
 */
(function(){function h(g){return l[g]}var l={};h.define=function(g,e){var a={},b={};a.exports=b;e(a,b,h);if("[object Array]"==Object.prototype.toString.call(g))for(var b=0,f=g.length;b<f;b++)l[g[b]]=a.exports;else l[g]=a.exports};h.define("./is",function(g){var e=Object.prototype.toString;g.exports={Array:function(a){return"[object Array]"==e.call(a)},Boolean:function(a){return"[object Boolean]"==e.call(a)},Date:function(a){return"[object Date]"==e.call(a)},Empty:function(a){for(var b in a)return!1;
return!0},Error:function(a){return"[object Error]"==e.call(a)},Function:function(a){return"[object Function]"==e.call(a)},NaN:isNaN,Number:function(a){return"[object Number]"==e.call(a)},Object:function(a){return"[object Object]"==e.call(a)},RegExp:function(a){return"[object RegExp]"==e.call(a)},String:function(a){return"[object String]"==e.call(a)}}});h.define("./array",function(g,e,a){var b=a("./is"),f=Array.prototype.splice;g.exports={flatten:function(a){for(var c=0,i=a.length,n;c<i;c++)n=a[c],
b.Array(n)&&(i+=n.length-1,f.apply(a,[c,1].concat(n)),c--);return a}}});h.define("./format",function(g,e,a){function b(a,b){var j=0;return a.replace(d,function(a){return"%%"==a?"%":b[j++]})}a("./is");var f=Array.prototype.slice,d=/%[%s]/g,c=/({{?)(\w+)}/g,i=/\.00$|0$/;g.exports={format:function(a){return b(a,f.call(arguments,1))},formatArr:b,formatObj:function(a,b){return a.replace(c,function(a,f,c){return 2==f.length?a.slice(1):b[c]})},fileSize:function(a,b){for(var b=Math.min(b||768,1024),j=-1,
f="bytes",c=a;c>b&&8>j;)c/=1024,j++;-1<j&&(f="kMGTPEZY".charAt(j)+"B");return c.toFixed(2).replace(i,"")+" "+f}}});h.define("./func",function(g){var e=Array.prototype.slice;g.exports={bind:function(a,b){var f=2<arguments.length?e.call(arguments,2):null,d=function(){var c=f?f.concat(e.call(arguments)):arguments;return a.apply(b,c)};d.__func__=a;d.__context__=b;return d}}});h.define("./object",function(g){var e=function(){var a=Object.prototype.hasOwnProperty;return function(b,f){return a.call(b,f)}}();
g.exports={hasOwn:e,extend:function(a){for(var b=1,f=arguments.length,d;b<f;b++)if(d=arguments[b])for(var c in d)e(d,c)&&(a[c]=d[c]);return a},inherits:function(a,b){var f=function(){};f.prototype=b.prototype;a.prototype=new f;return a.prototype.constructor=a},items:function(a){var b=[],f;for(f in a)e(a,f)&&b.push([f,a[f]]);return b},fromItems:function(a){for(var b={},f=0,d=a.length,c;f<d;f++)c=a[f],b[c[0]]=c[1];return b},lookup:function(a){for(var b={},f=0,d=a.length;f<d;f++)b[""+a[f]]=!0;return b},
get:function(a,b,f){return e(a,b)?a[b]:f}}});h.define("./re",function(g,e,a){var b=a("./is");g.exports={findAll:function(a,d,c){b.RegExp(a)||(a=RegExp(a,c));for(var c=null,i=[];null!==(c=a.exec(d));){switch(c.length){case 1:i.push(c[0]);break;case 2:i.push(c[1]);break;default:i.push(c.slice(1))}if(!a.global)break}return i}}});h.define("./querystring",function(g,e,a){var b=a("./is");g.exports={parse:function(a){var d={};if(2>a.length)return d;for(var a=a.substring(1).split("&"),c=0,i=a.length;c<i;c++){var e=
a[c].split("="),g=e[0],e=decodeURIComponent(e[1]);d.hasOwnProperty(g)?b.Array(d[g])?d[g].push(e):d[g]=[d[g],e]:d[g]=e}return d},stringify:function(a){var d=[],c;for(c in a)if(b.Array(a[c]))for(var e=a[c],g=0,h=e.length;g<h;g++)d.push(c+"="+encodeURIComponent(e[g]));else d.push(c+"="+encodeURIComponent(a[c]));return d.join("&")}}});h.define("./copy",function(g,e,a){function b(){}function f(a){return"object"==typeof a?(b.prototype=a,new b):a}function d(a){for(var b in a)this[b]=a[b]}function c(){this.copiedObjects=
[];var a=this;this.recursiveDeepCopy=function(b){return a.deepCopy(b)};this.depth=0}function i(a,b){var f=new c;b&&(f.maxDepth=b);return f.deepCopy(a)}var h=a("./is"),m=[];d.prototype={constructor:d,canCopy:function(){return!1},create:function(){},populate:function(){}};c.prototype={constructor:c,maxDepth:256,cacheResult:function(a,b){this.copiedObjects.push([a,b])},getCachedResult:function(a){for(var b=this.copiedObjects,c=b.length,k=0;k<c;k++)if(b[k][0]===a)return b[k][1]},deepCopy:function(a){if(null===
a)return null;if("object"!=typeof a)return a;var b=this.getCachedResult(a);if(b)return b;for(b=0;b<m.length;b++){var c=m[b];if(c.canCopy(a))return this.applyDeepCopier(c,a)}throw Error("no DeepCopier is able to copy "+a);},applyDeepCopier:function(a,b){var c=a.create(b);this.cacheResult(b,c);this.depth++;if(this.depth>this.maxDepth)throw Error("Exceeded max recursion depth in deep copy.");a.populate(this.recursiveDeepCopy,b,c);this.depth--;return c}};i.DeepCopier=d;i.deepCopiers=m;i.register=function(a){a instanceof
d||(a=new d(a));m.unshift(a)};i.register({canCopy:function(){return!0},create:function(a){return a instanceof a.constructor?f(a.constructor.prototype):{}},populate:function(a,b,c){for(var k in b)b.hasOwnProperty(k)&&(c[k]=a(b[k]));return c}});i.register({canCopy:function(a){return h.Array(a)},create:function(a){return new a.constructor},populate:function(a,b,c){for(var k=0;k<b.length;k++)c.push(a(b[k]));return c}});i.register({canCopy:function(a){return h.Date(a)},create:function(a){return new Date(a)}});
i.register({canCopy:function(a){return h.RegExp(a)},create:function(a){return a}});g.exports={DeepCopyAlgorithm:c,copy:function(a){if("object"!=typeof a)return a;var b=a.valueOf();if(a!=b)return new a.constructor(b);if(a instanceof a.constructor&&a.constructor!==Object){var b=f(a.constructor.prototype),c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}else for(c in b={},a)b[c]=a[c];return b},clone:f,deepCopy:i}});h.define("./time",function(g,e,a){function b(a){return 10>a?"0"+a:a}function f(a,b){for(var c=
0,f=b.length;c<f;c++)if(a===b[c])return c;return-1}function d(a,b){this.format=a;this.locale=b;var c=d._cache[b.name+"|"+a];void 0!==c?(this.re=c[0],this.matchOrder=c[1]):this.compilePattern()}var c=a("./is"),i={b:function(a){return"("+a.b.join("|")+")"},B:function(a){return"("+a.B.join("|")+")"},p:function(a){return"("+a.AM+"|"+a.PM+")"},d:"(\\d\\d?)",H:"(\\d\\d?)",I:"(\\d\\d?)",m:"(\\d\\d?)",M:"(\\d\\d?)",S:"(\\d\\d?)",y:"(\\d\\d?)",Y:"(\\d{4})","%":"%"},h={a:function(a,b){return b.a[a.getDay()]},
A:function(a,b){return b.A[a.getDay()]},b:function(a,b){return b.b[a.getMonth()]},B:function(a,b){return b.B[a.getMonth()]},d:function(a){return b(a.getDate(),2)},H:function(a){return b(a.getHours(),2)},M:function(a){return b(a.getMinutes(),2)},m:function(a){return b(a.getMonth()+1,2)},S:function(a){return b(a.getSeconds(),2)},w:function(a){return a.getDay()},Y:function(a){return a.getFullYear()},"%":function(){return"%"}},m=/[^%]%$/;d._cache={};d.prototype.compilePattern=function(){for(var a=this.format.split(/(?:\s|\t|\n)+/).join(" "),
b=[],f=[],e,g,h=0,j=a.length;h<j;h++)if(e=a.charAt(h),"%"!=e)" "===e?b.push(" +"):b.push(e);else{if(h==j-1)throw Error("strptime format ends with raw %");e=a.charAt(++h);g=i[e];if(void 0===g)throw Error("strptime format contains an unknown directive: %"+e);c.Function(g)?b.push(g(this.locale)):b.push(g);"%"!=e&&f.push(e)}this.re=RegExp("^"+b.join("")+"$");this.matchOrder=f;d._cache[this.locale.name+"|"+this.format]=[this.re,f]};d.prototype.parse=function(a){var b=this.re.exec(a);if(null===b)throw Error("Time data did not match format: data="+
a+", format="+this.format);for(var a=[1900,1,1,0,0,0],c={},d=1,e=b.length;d<e;d++)c[this.matchOrder[d-1]]=b[d];c.hasOwnProperty("Y")?a[0]=parseInt(c.Y,10):c.hasOwnProperty("y")&&(b=parseInt(c.y,10),68>b?b=2E3+b:100>b&&(b=1900+b),a[0]=b);if(c.hasOwnProperty("m")){d=parseInt(c.m,10);if(1>d||12<d)throw Error("Month is out of range: "+d);a[1]=d}else c.hasOwnProperty("B")?a[1]=f(c.B,this.locale.B)+1:c.hasOwnProperty("b")&&(a[1]=f(c.b,this.locale.b)+1);if(c.hasOwnProperty("d")){e=parseInt(c.d,10);if(1>
e||31<e)throw Error("Day is out of range: "+e);a[2]=e}if(c.hasOwnProperty("H")){b=parseInt(c.H,10);if(23<b)throw Error("Hour is out of range: "+b);a[3]=b}else if(c.hasOwnProperty("I")){b=parseInt(c.I,10);if(1>b||12<b)throw Error("Hour is out of range: "+b);12==b&&(b=0);a[3]=b;c.hasOwnProperty("p")&&c.p==this.locale.PM&&(a[3]+=12)}if(c.hasOwnProperty("M")){b=parseInt(c.M,10);if(59<b)throw Error("Minute is out of range: "+b);a[4]=b}if(c.hasOwnProperty("S")){c=parseInt(c.S,10);if(59<c)throw Error("Second is out of range: "+
c);a[5]=c}e=a[2];d=a[1];b=a[0];if((4==d||6==d||9==d||11==d)&&30<e||2==d&&e>(0==b%4&&0!=b%100||0==b%400?29:28))throw Error("Day is out of range: "+e);return a};var j={defaultLocale:"en",locales:{en:{name:"en",a:"Sun Mon Tue Wed Thu Fri Sat".split(" "),A:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),AM:"AM",b:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),B:"January February March April May June July August September October November December".split(" "),PM:"PM"}}},
l=j.getLocale=function(a){return a&&(j.locales.hasOwnProperty(a)||2<a.length&&(a=a.substring(0,2),j.locales.hasOwnProperty(a)))?j.locales[a]:j.locales[j.defaultLocale]},o=j.strptime=function(a,b,c){return(new d(b,l(c))).parse(a)};j.strpdate=function(a,b,c){a=o(a,b,c);return new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])};j.strftime=function(a,b,c){if(m.test(b))throw Error("strftime format ends with raw %");c=l(c);return b.replace(/(%.)/g,function(b,d){var e=d.charAt(1);if("undefined"==typeof h[e])throw Error("strftime format contains an unknown directive: "+
d);return h[e](a,c)})};g.exports=j});h.define("./url",function(g){function e(a){for(var b=e.options,a=b.parser[b.strictMode?"strict":"loose"].exec(a),f={},d=14;d--;)f[b.key[d]]=a[d]||"";f[b.q.name]={};f[b.key[12]].replace(b.q.parser,function(a,d,e){d&&(f[b.q.name][d]=e)});return f}e.options={strictMode:!1,key:"source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};g.exports={parseUri:e,makeUri:function(a){var b="";a.protocol&&(b+=a.protocol+"://");a.user&&(b+=a.user);a.password&&(b+=":"+a.password);if(a.user||a.password)b+="@";a.host&&(b+=a.host);a.port&&(b+=":"+a.port);a.path&&(b+=a.path);var e=a.queryKey,d=[],c;for(c in e)if(e.hasOwnProperty(c)){var g=encodeURIComponent(e[c]);
c=encodeURIComponent(c);g?d.push(c+"="+g):d.push(c)}0<d.length&&(b+="?"+d.join("&"));a.anchor&&(b+="#"+a.anchor);return b}}});h.define("isomorph",function(g,e,a){g.exports={is:a("./is"),array:a("./array"),func:a("./func"),object:a("./object"),format:a("./format"),re:a("./re"),querystring:a("./querystring"),copy:a("./copy"),time:a("./time"),url:a("./url")}});window.isomorph=l.isomorph})();