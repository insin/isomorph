/**
 * isomorph 0.1.10 - https://github.com/insin/isomorph
 * MIT Licensed
 */
(function(){function j(g){return n[g]}var n={};j.define=function(g,c){var a={},b={};a.exports=b;c(a,b,j);if("[object Array]"==Object.prototype.toString.call(g))for(var b=0,e=g.length;b<e;b++)n[g[b]]=a.exports;else n[g]=a.exports};j.define("./is",function(g){var c=Object.prototype.toString;g.exports={Array:function(a){return"[object Array]"==c.call(a)},Boolean:function(a){return"[object Boolean]"==c.call(a)},Date:function(a){return"[object Date]"==c.call(a)},Empty:function(a){for(var b in a)return!1;
return!0},Error:function(a){return"[object Error]"==c.call(a)},Function:function(a){return"[object Function]"==c.call(a)},NaN:isNaN,Number:function(a){return"[object Number]"==c.call(a)},Object:function(a){return"[object Object]"==c.call(a)},RegExp:function(a){return"[object RegExp]"==c.call(a)},String:function(a){return"[object String]"==c.call(a)}}});j.define("./array",function(g,c,a){var b=a("./is"),e=Array.prototype.splice;g.exports={flatten:function(a){for(var d=0,c=a.length,i;d<c;d++)i=a[d],
b.Array(i)&&(c+=i.length-1,e.apply(a,[d,1].concat(i)),d--);return a}}});j.define("./format",function(g,c,a){function b(a,b){var h=0;return a.replace(f,function(a){return"%%"==a?"%":b[h++]})}a("./is");var e=Array.prototype.slice,f=/%[%s]/g,d=/({{?)(\w+)}/g,l=/\.00$|0$/;g.exports={format:function(a){return b(a,e.call(arguments,1))},formatArr:b,formatObj:function(a,b){return a.replace(d,function(a,e,d){return 2==e.length?a.slice(1):b[d]})},fileSize:function(a,b){for(var b=Math.min(b||768,1024),h=-1,
e="bytes",d=a;d>b&&8>h;)d/=1024,h++;-1<h&&(e="kMGTPEZY".charAt(h)+"B");return d.toFixed(2).replace(l,"")+" "+e}}});j.define("./func",function(g){var c=Array.prototype.slice;g.exports={bind:function(a,b){var e=2<arguments.length?c.call(arguments,2):null,f=function(){var d=e?e.concat(c.call(arguments)):arguments;return a.apply(b,d)};f.__func__=a;f.__context__=b;return f}}});j.define("./object",function(g){var c=function(){var a=Object.prototype.hasOwnProperty;return function(b,e){return a.call(b,e)}}();
g.exports={hasOwn:c,extend:function(a){for(var b=1,e=arguments.length,f;b<e;b++)if(f=arguments[b])for(var d in f)c(f,d)&&(a[d]=f[d]);return a},inherits:function(a,b){var e=function(){};e.prototype=b.prototype;a.prototype=new e;return a.prototype.constructor=a},items:function(a){var b=[],e;for(e in a)c(a,e)&&b.push([e,a[e]]);return b},fromItems:function(a){for(var b={},e=0,f=a.length,d;e<f;e++)d=a[e],b[d[0]]=d[1];return b},lookup:function(a){for(var b={},e=0,f=a.length;e<f;e++)b[""+a[e]]=!0;return b},
get:function(a,b,e){return c(a,b)?a[b]:e}}});j.define("./re",function(g,c,a){var b=a("./is");g.exports={findAll:function(a,f,d){b.RegExp(a)||(a=RegExp(a,d));for(var d=null,c=[];null!==(d=a.exec(f));){switch(d.length){case 1:c.push(d[0]);break;case 2:c.push(d[1]);break;default:c.push(d.slice(1))}if(!a.global)break}return c}}});j.define("./querystring",function(g,c,a){var b=a("./is");g.exports={parse:function(a){var f={};if(2>a.length)return f;for(var a=a.substring(1).split("&"),d=0,c=a.length;d<c;d++){var g=
a[d].split("="),k=g[0],g=decodeURIComponent(g[1]);f.hasOwnProperty(k)?b.Array(f[k])?f[k].push(g):f[k]=[f[k],g]:f[k]=g}return f},stringify:function(a){var c=[],d;for(d in a)if(b.Array(a[d]))for(var g=a[d],i=0,k=g.length;i<k;i++)c.push(d+"="+encodeURIComponent(g[i]));else c.push(d+"="+encodeURIComponent(a[d]));return c.join("&")}}});j.define("./copy",function(g,c,a){function b(){}function e(a){return"object"==typeof a?(b.prototype=a,new b):a}function f(a){for(var b in a)this[b]=a[b]}function d(){this.copiedObjects=
[];var a=this;this.recursiveDeepCopy=function(b){return a.deepCopy(b)};this.depth=0}function l(a,b){var c=new d;b&&(c.maxDepth=b);return c.deepCopy(a)}var i=a("./is"),k=[];f.prototype={constructor:f,canCopy:function(){return!1},create:function(){},populate:function(){}};d.prototype={constructor:d,maxDepth:256,cacheResult:function(a,b){this.copiedObjects.push([a,b])},getCachedResult:function(a){for(var b=this.copiedObjects,c=b.length,m=0;m<c;m++)if(b[m][0]===a)return b[m][1]},deepCopy:function(a){if(null===
a)return null;if("object"!=typeof a)return a;var b=this.getCachedResult(a);if(b)return b;for(b=0;b<k.length;b++){var c=k[b];if(c.canCopy(a))return this.applyDeepCopier(c,a)}throw Error("no DeepCopier is able to copy "+a);},applyDeepCopier:function(a,b){var c=a.create(b);this.cacheResult(b,c);this.depth++;if(this.depth>this.maxDepth)throw Error("Exceeded max recursion depth in deep copy.");a.populate(this.recursiveDeepCopy,b,c);this.depth--;return c}};l.DeepCopier=f;l.deepCopiers=k;l.register=function(a){a instanceof
f||(a=new f(a));k.unshift(a)};l.register({canCopy:function(){return!0},create:function(a){return a instanceof a.constructor?e(a.constructor.prototype):{}},populate:function(a,b,c){for(var m in b)b.hasOwnProperty(m)&&(c[m]=a(b[m]));return c}});l.register({canCopy:function(a){return i.Array(a)},create:function(a){return new a.constructor},populate:function(a,b,c){for(var m=0;m<b.length;m++)c.push(a(b[m]));return c}});l.register({canCopy:function(a){return i.Date(a)},create:function(a){return new Date(a)}});
l.register({canCopy:function(a){return i.RegExp(a)},create:function(a){return a}});g.exports={DeepCopyAlgorithm:d,copy:function(a){if("object"!=typeof a)return a;var b=a.valueOf();if(a!=b)return new a.constructor(b);if(a instanceof a.constructor&&a.constructor!==Object){var b=e(a.constructor.prototype),c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}else for(c in b={},a)b[c]=a[c];return b},clone:e,deepCopy:l}});j.define("./time",function(g,c,a){function b(a){return 10>a?"0"+a:a}function e(a,b){for(var c=
0,d=b.length;c<d;c++)if(a===b[c])return c;return-1}function f(a,b){this.format=a;this.locale=b;var c=f._cache[b.name+"|"+a];void 0!==c?(this.re=c[0],this.matchOrder=c[1]):this.compilePattern()}var d=a("./is"),l={b:function(a){return"("+a.b.join("|")+")"},B:function(a){return"("+a.B.join("|")+")"},p:function(a){return"("+a.AM+"|"+a.PM+")"},d:"(\\d\\d?)",H:"(\\d\\d?)",I:"(\\d\\d?)",m:"(\\d\\d?)",M:"(\\d\\d?)",S:"(\\d\\d?)",y:"(\\d\\d?)",Y:"(\\d{4})","%":"%"},i={a:function(a,b){return b.a[a.getDay()]},
A:function(a,b){return b.A[a.getDay()]},b:function(a,b){return b.b[a.getMonth()]},B:function(a,b){return b.B[a.getMonth()]},d:function(a){return b(a.getDate(),2)},H:function(a){return b(a.getHours(),2)},M:function(a){return b(a.getMinutes(),2)},m:function(a){return b(a.getMonth()+1,2)},S:function(a){return b(a.getSeconds(),2)},w:function(a){return a.getDay()},Y:function(a){return a.getFullYear()},"%":function(){return"%"}},k=/[^%]%$/;f._cache={};f.prototype.compilePattern=function(){for(var a=this.format.split(/(?:\s|\t|\n)+/).join(" "),
b=[],c=[],e,g,h=0,i=a.length;h<i;h++)if(e=a.charAt(h),"%"!=e)" "===e?b.push(" +"):b.push(e);else{if(h==i-1)throw Error("strptime format ends with raw %");e=a.charAt(++h);g=l[e];if(void 0===g)throw Error("strptime format contains an unknown directive: %"+e);d.Function(g)?b.push(g(this.locale)):b.push(g);"%"!=e&&c.push(e)}this.re=RegExp("^"+b.join("")+"$");this.matchOrder=c;f._cache[this.locale.name+"|"+this.format]=[this.re,c]};f.prototype.parse=function(a){var b=this.re.exec(a);if(null===b)throw Error("Time data did not match format: data="+
a+", format="+this.format);for(var a=[1900,1,1,0,0,0],c={},d=1,f=b.length;d<f;d++)c[this.matchOrder[d-1]]=b[d];c.hasOwnProperty("Y")?a[0]=parseInt(c.Y,10):c.hasOwnProperty("y")&&(b=parseInt(c.y,10),68>b?b=2E3+b:100>b&&(b=1900+b),a[0]=b);if(c.hasOwnProperty("m")){d=parseInt(c.m,10);if(1>d||12<d)throw Error("Month is out of range: "+d);a[1]=d}else c.hasOwnProperty("B")?a[1]=e(c.B,this.locale.B)+1:c.hasOwnProperty("b")&&(a[1]=e(c.b,this.locale.b)+1);if(c.hasOwnProperty("d")){f=parseInt(c.d,10);if(1>
f||31<f)throw Error("Day is out of range: "+f);a[2]=f}if(c.hasOwnProperty("H")){b=parseInt(c.H,10);if(23<b)throw Error("Hour is out of range: "+b);a[3]=b}else if(c.hasOwnProperty("I")){b=parseInt(c.I,10);if(1>b||12<b)throw Error("Hour is out of range: "+b);12==b&&(b=0);a[3]=b;c.hasOwnProperty("p")&&c.p==this.locale.PM&&(a[3]+=12)}if(c.hasOwnProperty("M")){b=parseInt(c.M,10);if(59<b)throw Error("Minute is out of range: "+b);a[4]=b}if(c.hasOwnProperty("S")){c=parseInt(c.S,10);if(59<c)throw Error("Second is out of range: "+
c);a[5]=c}f=a[2];d=a[1];b=a[0];if((4==d||6==d||9==d||11==d)&&30<f||2==d&&f>(0==b%4&&0!=b%100||0==b%400?29:28))throw Error("Day is out of range: "+f);return a};var h={defaultLocale:"en",locales:{en:{name:"en",a:"Sun Mon Tue Wed Thu Fri Sat".split(" "),A:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),AM:"AM",b:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),B:"January February March April May June July August September October November December".split(" "),PM:"PM"}}},
j=h.getLocale=function(a){return a&&(h.locales.hasOwnProperty(a)||2<a.length&&(a=a.substring(0,2),h.locales.hasOwnProperty(a)))?h.locales[a]:h.locales[h.defaultLocale]},n=h.strptime=function(a,b,c){return(new f(b,j(c))).parse(a)};h.strpdate=function(a,b,c){a=n(a,b,c);return new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])};h.strftime=function(a,b,c){if(k.test(b))throw Error("strftime format ends with raw %");c=j(c);return b.replace(/(%.)/g,function(b,d){var e=d.charAt(1);if("undefined"==typeof i[e])throw Error("strftime format contains an unknown directive: "+
d);return i[e](a,c)})};g.exports=h});j.define("./url",function(g){function c(a){for(var b=c.options,a=b.parser[b.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[b.key[f]]=a[f]||"";e[b.q.name]={};e[b.key[12]].replace(b.q.parser,function(a,c,f){c&&(e[b.q.name][c]=f)});return e}c.options={strictMode:!1,key:"source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};g.exports={parseUri:c,makeUri:function(a){var b="";a.protocol&&(b+=a.protocol+"://");a.user&&(b+=a.user);a.password&&(b+=":"+a.password);if(a.user||a.password)b+="@";a.host&&(b+=a.host);a.port&&(b+=":"+a.port);a.path&&(b+=a.path);var c=a.queryKey,f=[],d;for(d in c)if(c.hasOwnProperty(d)){var g=encodeURIComponent(c[d]);
d=encodeURIComponent(d);g?f.push(d+"="+g):f.push(d)}0<f.length&&(b+="?"+f.join("&"));a.anchor&&(b+="#"+a.anchor);return b}}});j.define("isomorph",function(g,c,a){c.version="0.1.9";c.is=a("./is");c.array=a("./array");c.func=a("./func");c.object=a("./object");c.format=a("./format");c.re=a("./re");c.querystring=a("./querystring");c.copy=a("./copy");c.time=a("./time");c.url=a("./url")});window.isomorph=n.isomorph})();