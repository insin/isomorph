/**
 * isomorph 0.1.7 - https://github.com/insin/isomorph
 * MIT Licensed
 */
(function(){function i(f){return m[f]}var m={};i.define=function(f,b){var a={},c={};a.exports=c;b(a,c,i);if("[object Array]"==Object.prototype.toString.call(f))for(var c=0,e=f.length;c<e;c++)m[f[c]]=a.exports;else m[f]=a.exports};i.define("./is",function(f){var b=Object.prototype.toString;f.exports={Array:function(a){return"[object Array]"==b.call(a)},Boolean:function(a){return"[object Boolean]"==b.call(a)},Date:function(a){return"[object Date]"==b.call(a)},Empty:function(a){for(var c in a)return!1;
return!0},Error:function(a){return"[object Error]"==b.call(a)},Function:function(a){return"[object Function]"==b.call(a)},NaN:isNaN,Number:function(a){return"[object Number]"==b.call(a)},Object:function(a){return"[object Object]"==b.call(a)},RegExp:function(a){return"[object RegExp]"==b.call(a)},String:function(a){return"[object String]"==b.call(a)}}});i.define("./array",function(f,b,a){var c=a("./is"),e=Array.prototype.splice;f.exports={flatten:function(a){for(var d=0,b=a.length,h;d<b;d++)h=a[d],
c.Array(h)&&(b+=h.length-1,e.apply(a,[d,1].concat(h)),d--);return a}}});i.define("./format",function(f,b,a){function c(a,e){var c=0;return a.replace(g,function(k){return"%%"==k?"%":e[c++]})}a("./is");var e=Array.prototype.slice,g=/%[%s]/g,d=/({{?)(\w+)}/g;f.exports={format:function(a){return c(a,e.call(arguments,1))},formatArr:c,formatObj:function(a,e){return a.replace(d,function(a,k,c){return 2==k.length?a.slice(1):e[c]})}}});i.define("./func",function(f){var b=Array.prototype.slice;f.exports={bind:function(a,
c){var e=2<arguments.length?b.call(arguments,2):null,g=function(){var d=e?e.concat(b.call(arguments)):arguments;return a.apply(c,d)};g.__func__=a;g.__context__=c;return g}}});i.define("./object",function(f){var b=Function.prototype.call.bind(Object.prototype.hasOwnProperty);f.exports={hasOwn:b,extend:function(a){for(var c=1,e=arguments.length,g;c<e;c++)if(g=arguments[c])for(var d in g)b(g,d)&&(a[d]=g[d]);return a},inherits:function(a,c){var e=function(){};e.prototype=c.prototype;a.prototype=new e;
return a.prototype.constructor=a},items:function(a){var c=[],e;for(e in a)b(a,e)&&c.push([e,a[e]]);return c},fromItems:function(a){for(var c={},e=0,g=a.length,d;e<g;e++)d=a[e],c[d[0]]=d[1];return c},lookup:function(a){for(var c={},e=0,g=a.length;e<g;e++)c[""+a[e]]=!0;return c},get:function(a,c,e){return b(a,c)?a[c]:e}}});i.define("./re",function(f,b,a){var c=a("./is");f.exports={findAll:function(a,g,d){c.RegExp(a)||(a=RegExp(a,d));for(var d=null,b=[];null!==(d=a.exec(g));){switch(d.length){case 1:b.push(d[0]);
break;case 2:b.push(d[1]);break;default:b.push(d.slice(1))}if(!a.global)break}return b}}});i.define("./querystring",function(f,b,a){var c=a("./is");f.exports={parse:function(a){var b={};if(2>a.length)return b;for(var a=a.substring(1).split("&"),d=0,f=a.length;d<f;d++){var h=a[d].split("="),j=h[0],h=decodeURIComponent(h[1]);b.hasOwnProperty(j)?c.Array(b[j])?b[j].push(h):b[j]=[b[j],h]:b[j]=h}return b},stringify:function(a){var b=[],d;for(d in a)if(c.Array(a[d]))for(var f=a[d],h=0,j=f.length;h<j;h++)b.push(d+
"="+encodeURIComponent(f[h]));else b.push(d+"="+encodeURIComponent(a[d]));return b.join("&")}}});i.define("./copy",function(f,b,a){function c(){}function e(a){return"object"==typeof a?(c.prototype=a,new c):a}function g(a){for(var b in a)this[b]=a[b]}function d(){this.copiedObjects=[];var a=this;this.recursiveDeepCopy=function(b){return a.deepCopy(b)};this.depth=0}function i(a,b){var c=new d;if(b)c.maxDepth=b;return c.deepCopy(a)}var h=a("./is"),j=[];g.prototype={constructor:g,canCopy:function(){return!1},
create:function(){},populate:function(){}};d.prototype={constructor:d,maxDepth:256,cacheResult:function(a,b){this.copiedObjects.push([a,b])},getCachedResult:function(a){for(var b=this.copiedObjects,c=b.length,l=0;l<c;l++)if(b[l][0]===a)return b[l][1]},deepCopy:function(a){if(null===a)return null;if("object"!=typeof a)return a;var b=this.getCachedResult(a);if(b)return b;for(b=0;b<j.length;b++){var c=j[b];if(c.canCopy(a))return this.applyDeepCopier(c,a)}throw Error("no DeepCopier is able to copy "+
a);},applyDeepCopier:function(a,b){var c=a.create(b);this.cacheResult(b,c);this.depth++;if(this.depth>this.maxDepth)throw Error("Exceeded max recursion depth in deep copy.");a.populate(this.recursiveDeepCopy,b,c);this.depth--;return c}};i.DeepCopier=g;i.deepCopiers=j;i.register=function(a){a instanceof g||(a=new g(a));j.unshift(a)};i.register({canCopy:function(){return!0},create:function(a){return a instanceof a.constructor?e(a.constructor.prototype):{}},populate:function(a,b,c){for(var l in b)b.hasOwnProperty(l)&&
(c[l]=a(b[l]));return c}});i.register({canCopy:function(a){return h.Array(a)},create:function(a){return new a.constructor},populate:function(a,b,c){for(var l=0;l<b.length;l++)c.push(a(b[l]));return c}});i.register({canCopy:function(a){return h.Date(a)},create:function(a){return new Date(a)}});i.register({canCopy:function(a){return h.RegExp(a)},create:function(a){return a}});f.exports={DeepCopyAlgorithm:d,copy:function(a){if("object"!=typeof a)return a;var b=a.valueOf();if(a!=b)return new a.constructor(b);
if(a instanceof a.constructor&&a.constructor!==Object){var b=e(a.constructor.prototype),c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}else for(c in b={},a)b[c]=a[c];return b},clone:e,deepCopy:i}});i.define("./time",function(f,b,a){function c(a){return 10>a?"0"+a:a}function e(a,b){for(var c=0,d=b.length;c<d;c++)if(a===b[c])return c;return-1}function g(a,b){this.format=a;this.locale=b;var c=g._cache[b.name+"|"+a];void 0!==c?(this.re=c[0],this.matchOrder=c[1]):this.compilePattern()}var d=a("./is"),i=
{b:function(a){return"("+a.b.join("|")+")"},B:function(a){return"("+a.B.join("|")+")"},p:function(a){return"("+a.AM+"|"+a.PM+")"},d:"(\\d\\d?)",H:"(\\d\\d?)",I:"(\\d\\d?)",m:"(\\d\\d?)",M:"(\\d\\d?)",S:"(\\d\\d?)",y:"(\\d\\d?)",Y:"(\\d{4})","%":"%"},h={a:function(a,b){return b.a[a.getDay()]},A:function(a,b){return b.A[a.getDay()]},b:function(a,b){return b.b[a.getMonth()]},B:function(a,b){return b.B[a.getMonth()]},d:function(a){return c(a.getDate(),2)},H:function(a){return c(a.getHours(),2)},M:function(a){return c(a.getMinutes(),
2)},m:function(a){return c(a.getMonth()+1,2)},S:function(a){return c(a.getSeconds(),2)},w:function(a){return a.getDay()},Y:function(a){return a.getFullYear()},"%":function(){return"%"}},j=/[^%]%$/;g._cache={};g.prototype.compilePattern=function(){for(var a=this.format.split(/(?:\s|\t|\n)+/).join(" "),b=[],c=[],e,f,h=0,j=a.length;h<j;h++)if(e=a.charAt(h),"%"!=e)" "===e?b.push(" +"):b.push(e);else{if(h==j-1)throw Error("strptime format ends with raw %");e=a.charAt(++h);f=i[e];if(void 0===f)throw Error("strptime format contains an unknown directive: %"+
e);d.Function(f)?b.push(f(this.locale)):b.push(f);"%"!=e&&c.push(e)}this.re=RegExp("^"+b.join("")+"$");this.matchOrder=c;g._cache[this.locale.name+"|"+this.format]=[this.re,c]};g.prototype.parse=function(a){var b=this.re.exec(a);if(null===b)throw Error("Time data did not match format: data="+a+", format="+this.format);for(var a=[1900,1,1,0,0,0],c={},d=1,f=b.length;d<f;d++)c[this.matchOrder[d-1]]=b[d];c.hasOwnProperty("Y")?a[0]=parseInt(c.Y,10):c.hasOwnProperty("y")&&(b=parseInt(c.y,10),68>b?b=2E3+
b:100>b&&(b=1900+b),a[0]=b);if(c.hasOwnProperty("m")){d=parseInt(c.m,10);if(1>d||12<d)throw Error("Month is out of range: "+d);a[1]=d}else c.hasOwnProperty("B")?a[1]=e(c.B,this.locale.B)+1:c.hasOwnProperty("b")&&(a[1]=e(c.b,this.locale.b)+1);if(c.hasOwnProperty("d")){f=parseInt(c.d,10);if(1>f||31<f)throw Error("Day is out of range: "+f);a[2]=f}if(c.hasOwnProperty("H")){b=parseInt(c.H,10);if(23<b)throw Error("Hour is out of range: "+b);a[3]=b}else if(c.hasOwnProperty("I")){b=parseInt(c.I,10);if(1>
b||12<b)throw Error("Hour is out of range: "+b);12==b&&(b=0);a[3]=b;c.hasOwnProperty("p")&&c.p==this.locale.PM&&(a[3]+=12)}if(c.hasOwnProperty("M")){b=parseInt(c.M,10);if(59<b)throw Error("Minute is out of range: "+b);a[4]=b}if(c.hasOwnProperty("S")){c=parseInt(c.S,10);if(59<c)throw Error("Second is out of range: "+c);a[5]=c}f=a[2];d=a[1];b=a[0];if((4==d||6==d||9==d||11==d)&&30<f||2==d&&f>(0==b%4&&0!=b%100||0==b%400?29:28))throw Error("Day is out of range: "+f);return a};var k={defaultLocale:"en",
locales:{en:{name:"en",a:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),A:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),AM:"AM",b:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),B:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),PM:"PM"}}},m=k.getLocale=function(a){if(a){if(k.locales.hasOwnProperty(a))return k.locales[a];if(2<a.length&&(a=a.substring(0,2),k.locales.hasOwnProperty(a)))return k.locales[a]}return k.locales[k.defaultLocale]},
n=k.strptime=function(a,b,c){return(new g(b,m(c))).parse(a)};k.strpdate=function(a,b,c){a=n(a,b,c);return new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])};k.strftime=function(a,b,c){if(j.test(b))throw Error("strftime format ends with raw %");c=m(c);return b.replace(/(%.)/g,function(b,d){var e=d.charAt(1);if("undefined"==typeof h[e])throw Error("strftime format contains an unknown directive: "+d);return h[e](a,c)})};f.exports=k});i.define("isomorph",function(f,b,a){b.version="0.1.7";b.is=a("./is");b.array=
a("./array");b.func=a("./func");b.object=a("./object");b.format=a("./format");b.re=a("./re");b.querystring=a("./querystring");b.copy=a("./copy");b.time=a("./time")});window.isomorph=m.isomorph})();